library(data.table)
library(tidyverse)
out <- unzip('C:\\Users\\aferg\\Documents\\Data_Science\\DATA612_Recommender_Systems\\combined_data_1.zip', exdir = tempdir())
library(data.table)
library(tidyverse)
library(data.table)
library(tidyverse)
out <- unzip('C:\\Users\\aferg\\Documents\\
Data_Science\\DATA612_Recommender_Systems\\combined_data_1.zip', exdir = tempdir())
ratings.raw <- data.frame(fread(file = 'C:\\Users\\aferg\\Documents\\
Data_Science\\DATA612_Recommender_Systems\\combined_data_1.txt', fill = TRUE, nrow = 5000000, header = FALSE))
ratings.raw <- data.frame(fread(file = 'C:\\Users\\aferg\\Documents\\             Data_Science\\DATA612_Recommender_Systems\\combined_data_1.txt', fill = TRUE, nrow = 5000000, header = FALSE))
ratings.raw <- data.frame(fread(file = 'C:/Users/aferg/Documents/Data_Science/DATA612_Recommender_Systems/combined_data_1.txt', fill = TRUE, nrow = 5000000, header = FALSE))
# detect rows with the user id
ratings.df <- ratings.raw %>%
mutate(USER_ROW = str_detect(V1, ':'),
FINAL_COL = ifelse(USER_ROW == TRUE, paste0(V1,',,'),V1))
# split data into columns
ratings.final <- ratings.df %>%
separate(FINAL_COL, c("MOVIE", "RATING", "YEAR")) %>%
select(USER_ROW, MOVIE, RATING,YEAR)
View(ratings.final)
ratings.final %>%
group_by(movie) %>%
summarize(TOTAL_COUNT = n()) %>%
arrange(desc(TOTAL_COUNT))
ratings.final %>%
group_by(MOVIE) %>%
summarize(TOTAL_COUNT = n()) %>%
arrange(desc(TOTAL_COUNT))
