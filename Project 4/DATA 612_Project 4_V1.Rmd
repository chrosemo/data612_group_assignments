---
title: 'DATA 612: Project 4 | Accuracy and Beyond'
author: "Amber Ferger, Charlie Rosemond, Juanelle Marks" 
date: "6/14/2020"
output: 
    html_document:
     theme: lumen
     highlight: tango
     toc: TRUE
    
---

# Project Instructions

The goal of this assignment is give you practice working with accuracy and other recommender system metrics.

In this assignment you’re asked to do at least one or (if you like) both of the following:

• Work in a small group, and/or
• Choose a different dataset to work with from your previous projects.

#### Deliverables

1. As in your previous assignments, compare the accuracy of at least two recommender system algorithms against your offline data.

2. Implement support for at least one business or user experience goal such as increased serendipity, novelty, or diversity.

3. Compare and report on any change in accuracy before and after you’ve made the change in #2.

4. As part of your textual conclusion, discuss one or more additional experiments that could be performed and/or metrics that could be evaluated only if online evaluation was possible. Also, briefly propose how you would design a reasonable online evaluation environment.

# Project Implementation




## Data Source



## Motivation

?

## Load Libraries

```{r message=FALSE, include=FALSE}
# load libraries
library(tidyverse)
library(pander)
library(knitr)
library(dplyr)
library(recommenderlab)
library(readxl)
```

## Load data


```{r}
# Saving for later
# unzip file in local, temp dir
#out <- unzip('combined_data_1.zip', exdir = tempdir())

# first 5,000,000 rows
#ratings.raw <- data.frame(fread(file = out, fill = TRUE, nrow = 5000000, header = FALSE))

# detect rows with the user id
#ratings.df <- ratings.raw %>%
#    mutate(USER_ROW = str_detect(V1, ':'),
#           FINAL_COL = ifelse(USER_ROW == TRUE, paste0(V1,',,'),V1))

# split data into columns
#ratings.final <- ratings.df %>% 
#    separate(FINAL_COL, c("MOVIE", "RATING", "YEAR")) %>%
#    select(USER_ROW, MOVIE, RATING,YEAR)

# write.csv(ratings.final, file = 'finalRatings.txt')

```
```{r}
# Read jester data
jester <- read_xls("Project 4/jester-data-1.xls", col_names = FALSE)
colnames(jester) <- c("ratingCount", seq(100))
row.names(jester) <- 1:nrow(jester)
ratings <- jester[-1]

# replace 0 (no rating) with NULL
ratings[ratings == 99] <- NA
# function to replace the missing value with the median of the column
medValue.f <- function(x){
  x[is.na(x)] <- median(x, na.rm=TRUE) 
  return(x)
}

# Replace NA with median
ratings <- apply(ratings, 2, medValue.f)

# Create large dgCMatrix
ratings <- as(ratings, 'dgCMatrix')
ratings@Dimnames[1] <- list(as.character(1:nrow(ratings)))
```

## Comparison of accuracy of two  Recommender Systems

## Support for increased Serendepity|Novelty|Diversity- Business|User Experience

## Discussion

### Variation in accuracy

### Additional experiments that can be performed|metrics that can be evaluated if only online evaluation was possible

### Proposed Design for Online Evaluation Environment

## Conclusion

## Reference


